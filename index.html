<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="stylesheet" href="./css/style.css">

  <title>Base Apparel coming soon page</title>
</head>

<body>
  <main class='main'>
    <img class='main__logo__mobile' src="./images/logo.svg" alt="logo">
    <img class='main__hero' src="./images/hero-mobile.jpg" alt='hero'>
    <div class="main__text">
      <img class='main__logo__desktop' src="./images/logo.svg" alt="logo">
      <div class='main__text__wrapper'>
        <h1 class='main__text__heading'>We're <span class='main__text__heading--black'>coming <br>soon </span></h1>
        <p class='main__text__paragraph'>
          Hello fellow shoppers! We're currently building our new fashion store.
          Add your email below to stay up-to-date with announcements and our launch deals.
        </p>
        <form class='main__text__form' action="">
          <div class='main__text__form__wrapper'>
            <input class='main__text__form__input' type="text" id='email' name='email' placeholder="Email Address">
            <img class='main__text__form__error' id='error' src="./images/icon-error.svg">
            <input class='main__text__form__submit' type="submit" value=''>
          </div>
          <p class='main__text__form__msg' id='msg'>Please provide a valid email</p>
        </form>
      </div>
    </div>
    <div class="photo"></div>
  </main>

  <footer>
    <p class="attribution">
      Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>.
      Coded by <a href="#">Your Name Here</a>.
    </p>
  </footer>
  <script>
    const form = document.querySelector('form');
    const errorIcon = document.querySelector('#error');
    const errorIconStyle = getComputedStyle(errorIcon).display;
    const errorMsg = document.querySelector('#msg');
    const errorMsgStyle = getComputedStyle(errorMsg).display;

    const validateEmail = (e, email) => {
      e.preventDefault();

      if (/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(email)) {
        form.email.value = '';
        errorIcon.style.display = 'none';
        errorMsg.style.display = 'none';
      } else {
        errorIconStyle === "none" ? errorIcon.style = "display: inline" : errorIcon.style = "display: none";

        errorMsgStyle === "none" ? errorMsg.style = "display: block" : errorMsg.style = "display: none";
      }
    }

    form.addEventListener('submit', (e) => validateEmail(e, form.email.value));
  </script>
</body>

</html>